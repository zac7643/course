<!DOCTYPE html>
<html>
    <head>
    <!-- Setting the title of the webpage -->
    <title>Amazon Price Tracker</title>
    <!-- Setting the character encoding for the webpage -->
    <meta charset="UTF-8">
    <!-- Setting the viewport for responsive design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Linking Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Officina+Sans:700&display=swap" rel="stylesheet">
    <!-- Linking the CSS file -->
    <link rel="stylesheet" href="static/homepageCSS.css">
    <!-- Inline CSS for styling -->
    <style>
      /* Styling the list of favorite products */
        ul {
          list-style-type: none; /* Removes the default bullet points of the list */
          padding: 0; /* Removes the default padding of the list */
          margin: 0; /* Removes the default margin of the list */
        }

        /* Styling the list items */
        ul li {
          background-color: #232f3e; /* Sets the background color of the list items */
          padding: 10px; /* Adds some padding around the list items */
          margin-bottom: 10px; /* Adds some margin to the bottom of the list items */
          border-radius: 5px; /* Rounds the corners of the list items */
          transition: background-color 0.3s ease; /* Adds a transition effect when the background color changes */
        }

        /* Styling the list items when hovered over */
        ul li:hover {
          background-color: #232f50; /* Changes the background color of the list items when hovered over */
        }

        /* Styling the product images */
        ul li img {
          border-radius: 5px; /* Rounds the corners of the product images */
          margin-right: 10px; /* Adds some margin to the right of the product images */
        }

        /* Styling the product links */
        ul li a {
          color: #fff; /* Sets the color of the product links */
          text-decoration: none; /* Removes the underline of the product links */
        }

        /* Styling the product links when hovered over */
        ul li a:hover {
          color: #FF9900; /* Changes the color of the product links when hovered over */
        }

        /* Styling the product prices */
        ul li a.price {
          color: #0af416; /* Sets the color of the product prices */
        }

        /* Styling the delete and stats buttons */
        .btn {
          display: inline-block;
          padding: 5px 10px;
          margin: 5px 0;
          background-color: #FF9900;
          color: #fff;
          font-family: Arial, Helvetica, sans-serif;
          font-size: 14px;
          text-decoration: none;
          text-align: center;
          border-radius: 5px;
          transition: background-color 0.3s ease;
        }

        .btn:hover {
          background-color: #e68a00;
        }

        h1 {text-align: center; }
        body {
            background-color: #232f3e;
        }
        
        td a {
          display: block;
          color: #fff;
          text-decoration: none;
        }
        
        /* Style for like button */
        .like-btn {
          display: flex;
          justify-content: center;
          align-items: center;
        }
        .like-btn:active{
          transform: scale(0.9, 0.9);
        }
        .like-btn.active{
          animation: pop 0.6s 1;
        }
        .like-btn path {
          fill: #767676;
        }
        .like-btn.active path{
          fill: #ec3e3e;
        }
        
        /* Animation for like button */
        .clone{
          position: absolute;
          animation: moveOutwards 0.9s 1;
          opacity: 0;
        }
        
        @keyframes moveOutwards{
          from {
            opacity: 1;
            transform: translate(0, 0);
          }
        }
        /* Styling the delete and stats buttons */
        .btn {
          display: inline-block;
          padding: 5px 10px;
          margin: 5px 0;
          background-color: #FF9900;
          color: #fff;
          font-family: Arial, Helvetica, sans-serif;
          font-size: 14px;
          text-decoration: none;
          text-align: center;
          border-radius: 5px;
          transition: background-color 0.3s ease;
        }

        .btn:hover {
          background-color: #293c53;
        }

        </style>
    </head>

    <body>
        <!-- Header of the page -->
        <h1 class="title">Amazon <span>Price Tracker</span></h1>
        <!-- User information -->
        <h3 style="text-align:right; color: white;">User: {{username}} <a href="/logout" style="color: white;">Log Out</a></h3>
        <!-- Link to add stat -->
        <h3 style="text-align:right;"><a href="/addstat" style="color: white;">add stat</a></h3>

    <!-- Search bar -->
    <div class="search-bar">
    <form action=/search>
        <input type="text" placeholder="Search..." name="search">
        <button type="submit">Search</button>
    </form>
    </div>

    <!-- List of favorite products -->
    <h2 style="color:#FF9900;"><b>Your Favorites:</b></h2>
    <ul>
    <!-- Loop through rows to display each product -->
    {% for row in rows %}
      <li> 
        <img src="{{ row.product_image_url }}" width="100"> 
        <!-- Link to the product -->
        <a href="{{ row.product_link }}">{{ row.product_name }}:</a> 
        <!-- Price of the product -->
        <a class="price">Â£{{ row.product_price }} ({{ row.price_date }})</a> 
        <!-- Link to delete the product from favorites -->
        <a href="{{ url_for('delete_fav', id=row.id) }}" class="btn">DELETE</a>
        <!-- Link to get stats of the product -->
        <a href="{{ url_for('get_stats', id=row.id )}}" class="btn">stats</a>
      </li>
    {% endfor %}

  
    </ul>
    </body>
</html>
